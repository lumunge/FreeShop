(this["webpackJsonpreact-ts"]=this["webpackJsonpreact-ts"]||[]).push([[0],{86:function(t,e,n){"use strict";n.r(e);var c,r=n(118),a=n(67),i=n(11),s=n.n(i),o=n(46),d=n(25),j=n(51),l=n.n(j),u=n(57),b=n(53),p=n(0),x=n(120),h=n(34),O=n(111),m=n(113),f=n(119),v=n(109),g=Object(v.a)((function(){return{paper:{padding:"1rem"},cartBtn:{position:"absolute",right:"10px",top:"20px"},button:{position:"relative",float:"right",bottom:"40px",right:"40px",color:"#28ea89",fontSize:"1.2rem",background:"#2a2d3c",padding:"10px 25px"},ProductWrapper:{display:"flex"},ProductDetails:{padding:"1rem"},ProductImg:{width:"200px",height:"200px"}}})),C=n(3),N=function(t){var e=t.product,n=t.addToCart,c=g();return Object(C.jsxs)(O.a,{elevation:4,className:c.paper,children:[Object(C.jsxs)("div",{className:c.ProductWrapper,children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:c.ProductImg,src:e.image,alt:e.title})}),Object(C.jsxs)("div",{className:c.ProductDetails,children:[Object(C.jsx)(m.a,{variant:"body1",children:e.title}),Object(C.jsx)("br",{}),Object(C.jsxs)(m.a,{variant:"body2",children:["Ksh ",e.price]})]})]},e.id),Object(C.jsx)(f.a,{variant:"contained",className:c.button,onClick:function(){return n(e)},children:Object(C.jsx)(h.a,{})})]})},A=n(114),y=n(62),k=n(63).a.div(c||(c=Object(y.a)(["\n\tpadding: 1rem;\n    border-bottom: 1px solid #333;\n    margin: 10px 0;\n\n\t.item-info {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t}\n\t.item-details span{\n\t\tcolor: #2ecc71;\n\t}\n\t.action-btns {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\talign-items: center;\n\t\tmargin-top: 3rem;\n\t}\n\t.action-btns span {\n\t\tborder: 1px solid #2a2d3c;\n\t\tpadding: 5px 10px;\n\t}\n\t.action-btns span:hover {\n\t\tcursor: pointer;\n\t\tbackground: #2a2d3c;\n\t\tcolor: #fff;\n\t\ttransition: all .4s ease-in-out;\n\t}\n"]))),P=function(t){var e=t.item,n=t.addToCart,c=t.removeFromCart;return Object(C.jsxs)(k,{children:[Object(C.jsx)(m.a,{variant:"h6",children:e.title}),Object(C.jsxs)("div",{className:"item-info",children:[Object(C.jsx)("div",{className:"item-img",children:Object(C.jsx)("img",{src:e.image,alt:e.title,width:"100px",height:"100px"})}),Object(C.jsxs)("div",{className:"item-details",children:[Object(C.jsxs)(m.a,{variant:"h6",children:["Price: ",Object(C.jsx)("span",{children:e.price})]}),Object(C.jsxs)(m.a,{variant:"h6",children:["Total: ",Object(C.jsx)("span",{children:(e.totalAmount*e.price).toFixed(2)})]})]})]}),Object(C.jsxs)("div",{className:"action-btns",children:[Object(C.jsx)("span",{onClick:function(){return c(e.id)},children:Object(C.jsx)(h.b,{})}),Object(C.jsx)("p",{children:e.totalAmount}),Object(C.jsx)("span",{onClick:function(){return n(e)},children:Object(C.jsx)(h.c,{})})]})]})},w=Object(v.a)((function(){return{CartHeader:{textAlign:"center",paddingTop:"2rem"},Price:{color:"#2ecc71"}}})),I=function(t){var e,n=t.cartItems,c=t.addToCart,r=t.removeFromCart,a=w();return Object(C.jsxs)(A.a,{children:[Object(C.jsx)("div",{className:a.CartHeader,children:0===n.length?Object(C.jsx)(m.a,{variant:"h4",children:"No Items In Cart"}):Object(C.jsxs)(m.a,{variant:"h4",children:[n.length," Item(s)"]})}),n.map((function(t){return Object(C.jsx)(P,{item:t,addToCart:c,removeFromCart:r},t.id)})),Object(C.jsxs)(m.a,{variant:"h5",children:["Payable Amount:"," ",Object(C.jsxs)("div",{className:a.Price,children:[" ","Ksh ",(e=n,e.reduce((function(t,e){return t+e.totalAmount*e.price}),0)).toFixed(2)]})]})]})},T=n(117),F=n(115),S=n(116),B=n(68),D=n.n(B),E=Object(v.a)((function(){return{cartBtn:{position:"absolute",right:"10px",top:"20px"}}})),H=function(){var t=Object(p.useState)([]),e=Object(b.a)(t,2),n=e[0],c=e[1],r=Object(p.useState)(!1),a=Object(b.a)(r,2),i=a[0],s=a[1],j=E(),h=function(){var t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://fakestoreapi.com/products");case 2:return t.next=4,t.sent.json();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(x.a)("products",h),v=O.data,g=O.isLoading,y=O.error,k=function(t){c((function(e){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{totalAmount:e.totalAmount+1}):e})):[].concat(Object(o.a)(e),[Object(d.a)(Object(d.a)({},t),{},{totalAmount:1})])}))};return g?Object(C.jsx)(m.a,{variant:"h4",children:"Setting Up Shop..."}):y?Object(C.jsx)(m.a,{variant:"h4",color:"secondary",children:"An Error Ocurred"}):Object(C.jsxs)(A.a,{children:[Object(C.jsx)("h1",{children:"Free Shop"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(T.a,{anchor:"right",open:i,onClose:function(){return s(!1)},children:Object(C.jsx)(I,{cartItems:n,addToCart:k,removeFromCart:function(t){c((function(e){return e.reduce((function(e,n){return n.id===t?1===n.totalAmount?e:[].concat(Object(o.a)(e),[Object(d.a)(Object(d.a)({},n),{},{totalAmount:n.totalAmount-1})]):[].concat(Object(o.a)(e),[n])}),[])}))}})}),Object(C.jsx)("div",{children:Object(C.jsx)(f.a,{onClick:function(){return s(!0)},variant:"contained",className:j.cartBtn,children:Object(C.jsx)(F.a,{badgeContent:n.length,children:Object(C.jsx)(D.a,{})})})}),Object(C.jsx)(S.a,{container:!0,spacing:3,children:null===v||void 0===v?void 0:v.map((function(t){return Object(C.jsx)(S.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(N,{product:t,addToCart:k})},t.id)}))})]})]})},J=new r.a;s.a.render(Object(C.jsx)(a.a,{client:J,children:Object(C.jsx)(H,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.ee2586c5.chunk.js.map